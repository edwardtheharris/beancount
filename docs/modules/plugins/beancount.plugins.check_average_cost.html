
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>beancount.plugins.check_average_cost &#8212; Beancount 2.2.1 documentation</title>
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="beancount.plugins.check_closing" href="beancount.plugins.check_closing.html" />
    <link rel="prev" title="beancount.plugins.book_conversions" href="beancount.plugins.book_conversions.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-beancount.plugins.check_average_cost">
<span id="beancount-plugins-check-average-cost"></span><h1>beancount.plugins.check_average_cost<a class="headerlink" href="#module-beancount.plugins.check_average_cost" title="Permalink to this headline">¶</a></h1>
<p>A plugin that ensures cost basis is preserved in unbooked transactions.</p>
<p>This is intended to be used in accounts using the “NONE” booking method, to
manually ensure that the sum total of the cost basis of reducing legs matches
the average of what’s in the account inventory. This is a partial first step
toward implementing the “AVERAGE” booking method. In other words, this plugins
provides assertions that will constrain you to approximate what the “AVERAGE”
booking method will do, manually, and not to leak too much cost basis through
unmatching bookings without checks. (Note the contrived context here: Ideally
the “NONE” booking method would simply not exist.)</p>
<p class="rubric">Functions</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#beancount.plugins.check_average_cost.validate_average_cost" title="beancount.plugins.check_average_cost.validate_average_cost"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate_average_cost</span></code></a>(entries, options_map)</p></td>
<td><p>Check that reducing legs on unbooked postings are near the average cost basis.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#beancount.plugins.check_average_cost.MatchBasisError" title="beancount.plugins.check_average_cost.MatchBasisError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MatchBasisError</span></code></a>(source, message, entry)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="beancount.plugins.check_average_cost.MatchBasisError">
<em class="property">class </em><code class="sig-prename descclassname">beancount.plugins.check_average_cost.</code><code class="sig-name descname">MatchBasisError</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">message</em>, <em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.plugins.check_average_cost.MatchBasisError" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="beancount.plugins.check_average_cost.MatchBasisError.entry">
<em class="property">property </em><code class="sig-name descname">entry</code><a class="headerlink" href="#beancount.plugins.check_average_cost.MatchBasisError.entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="method">
<dt id="beancount.plugins.check_average_cost.MatchBasisError.message">
<em class="property">property </em><code class="sig-name descname">message</code><a class="headerlink" href="#beancount.plugins.check_average_cost.MatchBasisError.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="method">
<dt id="beancount.plugins.check_average_cost.MatchBasisError.source">
<em class="property">property </em><code class="sig-name descname">source</code><a class="headerlink" href="#beancount.plugins.check_average_cost.MatchBasisError.source" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="beancount.plugins.check_average_cost.DEFAULT_TOLERANCE">
<code class="sig-prename descclassname">beancount.plugins.check_average_cost.</code><code class="sig-name descname">DEFAULT_TOLERANCE</code><em class="property"> = 0.01</em><a class="headerlink" href="#beancount.plugins.check_average_cost.DEFAULT_TOLERANCE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.plugins.check_average_cost.validate_average_cost">
<code class="sig-prename descclassname">beancount.plugins.check_average_cost.</code><code class="sig-name descname">validate_average_cost</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em>, <em class="sig-param">config_str=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/beancount/plugins/check_average_cost.html#validate_average_cost"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#beancount.plugins.check_average_cost.validate_average_cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that reducing legs on unbooked postings are near the average cost basis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>unused_options_map</strong> – An options map.</p></li>
<li><p><strong>config_str</strong> – The configuration as a string version of a float.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new errors, if any were found.</p>
</dd>
</dl>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">Beancount</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Beancount Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../core/index.html">Beancount Core</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parser/index.html">Parser</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Plugins</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Beancount Modules</a><ul>
  <li><a href="index.html">Plugins</a><ul>
      <li>Previous: <a href="beancount.plugins.book_conversions.html" title="previous chapter">beancount.plugins.book_conversions</a></li>
      <li>Next: <a href="beancount.plugins.check_closing.html" title="next chapter">beancount.plugins.check_closing</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Martin Blais.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../../_sources/modules/plugins/beancount.plugins.check_average_cost.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>