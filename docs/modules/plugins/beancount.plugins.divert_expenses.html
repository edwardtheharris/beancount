<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>Beancount :: beancount.plugins.divert_expenses</title>
  

  <link rel="icon" type="image/png" sizes="32x32" href="../../_static/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../_static/img/favicon-16x16.png">
        <link rel="index" title="Index"
              href="../../genindex.html"/>

  <link rel="stylesheet" href="../../_static/css/insegel.css"/>

  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'',
        VERSION:'2.2.1',
        LANGUAGE:'None',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
    };
  </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script>

</head>

<body>
  <div id="insegel-container">
    <header>
      <div id="logo-container">
          
          <a href="../../index.html"><img src="../../_static/img/logo.svg"></a>
          

      </div>
      <div id="project-container">
        <h1>Beancount Documentation</h1>
      </div>
    </header>

    <div id="content-container">

      <div id="main-content-container">
        <div id="main-content-header">
          <h1>beancount.plugins.divert_expenses</h1>
        </div>
        <div id="main-content">
          
  <div class="section" id="module-beancount.plugins.divert_expenses">
<span id="beancount-plugins-divert-expenses"></span><h1>beancount.plugins.divert_expenses<a class="headerlink" href="#module-beancount.plugins.divert_expenses" title="Permalink to this headline">¶</a></h1>
<p>For tagged transactions, convert expenses to a single account.</p>
<p>This plugin allows you to select a tag and it automatically converts all the
Expenses postings to use a single account. For example, with this input:</p>
<blockquote>
<div><p>plugin “divert_expenses” “[‘kid’, ‘Expenses:Child’]”</p>
<dl class="simple">
<dt>2018-01-28 * “CVS” “Formula” #kid</dt><dd><p>Liabilities:CreditCard      -10.27 USD
Expenses:Food:Grocery        10.27 USD</p>
</dd>
</dl>
</div></blockquote>
<p>It will output:</p>
<blockquote>
<div><dl class="simple">
<dt>2018-01-28 * “CVS” “Formula” #kid</dt><dd><p>Liabilities:CreditCard      -10.27 USD
Expenses:Child               10.27 USD</p>
</dd>
</dl>
</div></blockquote>
<p>You can limit the diversion to one posting only, like this:</p>
<blockquote>
<div><dl>
<dt>2018-05-05 * “CVS/PHARMACY” “” #kai</dt><dd><p>Liabilities:CreditCard        -66.38 USD
Expenses:Pharmacy              21.00 USD  ;; Vitamins for Kai
Expenses:Pharmacy              45.38 USD</p>
<blockquote>
<div><p>divert: FALSE</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>See unit test for details.</p>
<p>See this thread for context:
<a class="reference external" href="https://docs.google.com/drawings/d/18fTrrGlmz0jFbfcGGHTffbdRwbmST8r9_3O26Dd1Xww/edit?usp=sharing">https://docs.google.com/drawings/d/18fTrrGlmz0jFbfcGGHTffbdRwbmST8r9_3O26Dd1Xww/edit?usp=sharing</a></p>
<p class="rubric">Functions</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#beancount.plugins.divert_expenses.divert_expenses" title="beancount.plugins.divert_expenses.divert_expenses"><code class="xref py py-obj docutils literal notranslate"><span class="pre">divert_expenses</span></code></a>(entries, options_map, config_str)</p></td>
<td><p>Divert expenses.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#beancount.plugins.divert_expenses.replace_expenses_accounts" title="beancount.plugins.divert_expenses.replace_expenses_accounts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">replace_expenses_accounts</span></code></a>(entry, …)</p></td>
<td><p>Replace the Expenses accounts from the entry.</p></td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="beancount.plugins.divert_expenses.divert_expenses">
<code class="sig-prename descclassname">beancount.plugins.divert_expenses.</code><code class="sig-name descname">divert_expenses</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em>, <em class="sig-param">config_str</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/beancount/plugins/divert_expenses.html#divert_expenses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#beancount.plugins.divert_expenses.divert_expenses" title="Permalink to this definition">¶</a></dt>
<dd><p>Divert expenses.</p>
<p>Explicit price entries are simply maintained in the output list. Prices from
postings with costs or with prices from Transaction entries are synthesized
as new Price entries in the list of entries output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives. We’re interested only in the Transaction instances.</p></li>
<li><p><strong>options_map</strong> – A parser options dict.</p></li>
<li><p><strong>config_str</strong> – A configuration string, which is intended to be a list of two strings,
a tag, and an account to replace expenses with.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A modified list of entries.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.plugins.divert_expenses.replace_expenses_accounts">
<code class="sig-prename descclassname">beancount.plugins.divert_expenses.</code><code class="sig-name descname">replace_expenses_accounts</code><span class="sig-paren">(</span><em class="sig-param">entry</em>, <em class="sig-param">replacement_account</em>, <em class="sig-param">acctypes</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/beancount/plugins/divert_expenses.html#replace_expenses_accounts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#beancount.plugins.divert_expenses.replace_expenses_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the Expenses accounts from the entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entry</strong> – A Transaction directive.</p></li>
<li><p><strong>replacement_account</strong> – A string, the account to use for replacement.</p></li>
<li><p><strong>acctypes</strong> – An AccountTypes instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A possibly entry directive.</p>
</dd>
</dl>
</dd></dl>

</div>


        </div>
      </div>

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
            <input type="text" name="q" placeholder="Search..." />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">

          
  
    
  
  
    <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Beancount Modules</a></li>
</ul>

  


        </div>

        

      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../../_sources/modules/plugins/beancount.plugins.divert_expenses.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            

            
        </ul>
        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/Autophagy/insegel">Insegel</a>

        </div>
    </div>

    <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

    <script type="text/javascript">
      $("#menu-toggle").click(function() {
        $("#menu-toggle").toggleClass("toggled");
        $("#side-menu-container").slideToggle(300);
      });
    </script>

</footer> 

</div>

</body>
</html>