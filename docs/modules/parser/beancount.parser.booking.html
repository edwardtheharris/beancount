<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#2D2D2D" />
  
  <title>Beancount :: beancount.parser.booking</title>
  

  <link rel="icon" type="image/png" sizes="32x32" href="../../_static/img/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../_static/img/favicon-16x16.png">
        <link rel="index" title="Index"
              href="../../genindex.html"/>

  <link rel="stylesheet" href="../../_static/css/insegel.css"/>

  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'',
        VERSION:'2.2.1',
        LANGUAGE:'None',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
    };
  </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/language_data.js"></script>

  <script src="https://email.tl.fortawesome.com/c/eJxNjUEOgyAQAF8jR7Kw6wIHDh7sP1Cw2mgxgmn6-3JsMqc5zEQfE8dkxOY1KKMUOI3ACFKRJpSW2AAp7ontYIaxI6i7XPJVwyeVfCQ550Os3jLrGSNOLgbdAy6s0PBk2TFNjEbsfq31LB0OnX407pJa5v2faRadwSW63mn5KuLyR9j2tgx3zecanl-55R_-jjPs"></script>

</head>

<body>
  <div id="insegel-container">
    <header>
      <div id="logo-container">
          
          <a href="../../index.html"><img src="../../_static/img/logo.svg"></a>
          

      </div>
      <div id="project-container">
        <h1>Beancount Documentation</h1>
      </div>
    </header>

    <div id="content-container">

      <div id="main-content-container">
        <div id="main-content-header">
          <h1>beancount.parser.booking</h1>
        </div>
        <div id="main-content">
          
  <div class="section" id="module-beancount.parser.booking">
<span id="beancount-parser-booking"></span><h1>beancount.parser.booking<a class="headerlink" href="#module-beancount.parser.booking" title="Permalink to this headline">¶</a></h1>
<p>Algorithms for ‘booking’ inventory, that is, the process of finding a
matching lot when reducing the content of an inventory.</p>
<p class="rubric">Functions</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#beancount.parser.booking.book" title="beancount.parser.booking.book"><code class="xref py py-obj docutils literal notranslate"><span class="pre">book</span></code></a>(incomplete_entries, options_map)</p></td>
<td><p>Book inventory lots and complete all positions with incomplete numbers.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#beancount.parser.booking.validate_inventory_booking" title="beancount.parser.booking.validate_inventory_booking"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate_inventory_booking</span></code></a>(entries, …)</p></td>
<td><p>Validate that no position at cost is allowed to go negative.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#beancount.parser.booking.validate_missing_eliminated" title="beancount.parser.booking.validate_missing_eliminated"><code class="xref py py-obj docutils literal notranslate"><span class="pre">validate_missing_eliminated</span></code></a>(entries, …)</p></td>
<td><p>Validate that all the missing bits of postings have been eliminated.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Classes</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#beancount.parser.booking.BookingError" title="beancount.parser.booking.BookingError"><code class="xref py py-obj docutils literal notranslate"><span class="pre">BookingError</span></code></a>(source, message, entry)</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="beancount.parser.booking.BookingError">
<em class="property">class </em><code class="sig-prename descclassname">beancount.parser.booking.</code><code class="sig-name descname">BookingError</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">message</em>, <em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.parser.booking.BookingError" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="beancount.parser.booking.BookingError.entry">
<em class="property">property </em><code class="sig-name descname">entry</code><a class="headerlink" href="#beancount.parser.booking.BookingError.entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 2</p>
</dd></dl>

<dl class="method">
<dt id="beancount.parser.booking.BookingError.message">
<em class="property">property </em><code class="sig-name descname">message</code><a class="headerlink" href="#beancount.parser.booking.BookingError.message" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="method">
<dt id="beancount.parser.booking.BookingError.source">
<em class="property">property </em><code class="sig-name descname">source</code><a class="headerlink" href="#beancount.parser.booking.BookingError.source" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.parser.booking.book">
<code class="sig-prename descclassname">beancount.parser.booking.</code><code class="sig-name descname">book</code><span class="sig-paren">(</span><em class="sig-param">incomplete_entries</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/beancount/parser/booking.html#book"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#beancount.parser.booking.book" title="Permalink to this definition">¶</a></dt>
<dd><p>Book inventory lots and complete all positions with incomplete numbers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>incomplete_entries</strong> – A list of directives, with some postings possibly left
with incomplete amounts as produced by the parser.</p></li>
<li><p><strong>options_map</strong> – An options dict as produced by the parser.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A pair of</dt><dd><p>entries: A list of completed entries with all their postings completed.
errors: New errors produced during interpolation.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.parser.booking.validate_missing_eliminated">
<code class="sig-prename descclassname">beancount.parser.booking.</code><code class="sig-name descname">validate_missing_eliminated</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">unused_options_map</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/beancount/parser/booking.html#validate_missing_eliminated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#beancount.parser.booking.validate_missing_eliminated" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate that all the missing bits of postings have been eliminated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>unused_options_map</strong> – An options map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of errors.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.parser.booking.validate_inventory_booking">
<code class="sig-prename descclassname">beancount.parser.booking.</code><code class="sig-name descname">validate_inventory_booking</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">unused_options_map</em>, <em class="sig-param">booking_methods</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/beancount/parser/booking.html#validate_inventory_booking"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#beancount.parser.booking.validate_inventory_booking" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate that no position at cost is allowed to go negative.</p>
<p>This routine checks that when a posting reduces a position, existing or not,
that the subsequent inventory does not result in a position with a negative
number of units. A negative number of units would only be required for short
trades of trading spreads on futures, and right now this is not supported.
It would not be difficult to support this, however, but we want to be strict
about it, because being pedantic about this is otherwise a great way to
detect user data entry mistakes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>unused_options_map</strong> – An options map.</p></li>
<li><p><strong>booking_methods</strong> – A mapping of account name to booking method, accumulated
in the main loop.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of errors.</p>
</dd>
</dl>
</dd></dl>

</div>


        </div>
      </div>

      <div id="side-menu-container">

        <div id="search" role="search">
        <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
            <input type="text" name="q" placeholder="Search..." />
            <input type="hidden" name="check_keywords" value="yes" />
            <input type="hidden" name="area" value="default" />
        </form>
</div>

        <div id="side-menu" role="navigation">

          
  
    
  
  
    <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Beancount Modules</a></li>
</ul>

  


        </div>

        

      </div>

    </div>

<footer>
    <div id="footer-info">
        <ul id="build-details">
            
                <li class="footer-element">
                    
                        <a href="../../_sources/modules/parser/beancount.parser.booking.rst.txt" rel="nofollow"> source</a>
                    
                </li>
            

            

            
        </ul>
        <div id="credit">
            created with <a href="http://sphinx-doc.org/">Sphinx</a> and <a href="https://github.com/Autophagy/insegel">Insegel</a>

        </div>
    </div>

    <a id="menu-toggle" class="fa fa-bars" aria-hidden="true"></a>

    <script type="text/javascript">
      $("#menu-toggle").click(function() {
        $("#menu-toggle").toggleClass("toggled");
        $("#side-menu-container").slideToggle(300);
      });
    </script>

</footer> 

</div>

</body>
</html>